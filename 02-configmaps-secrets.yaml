# =====================
# DEVELOPMENT
# =====================
apiVersion: v1
kind: ConfigMap
metadata:
  name: webshop-config
  namespace: development
data:
  DB_HOST: "postgres-service"
  DB_PORT: "5432"
  DB_NAME: "webshop"
  FLASK_ENV: "development"
  FLASK_DEBUG: "1"
  FLASK_RUN_HOST: "0.0.0.0"   # ← add this
---
apiVersion: v1
kind: Secret
metadata:
  name: webshop-secret
  namespace: development
type: Opaque
stringData:
  DB_USER: "postgres"
  DB_PASSWORD: "postgres123"
  SECRET_KEY: "dev-secret-key-change-in-prod"
---
# =====================
# STAGING
# =====================
apiVersion: v1
kind: ConfigMap
metadata:
  name: webshop-config
  namespace: staging
data:
  DB_HOST: "postgres-service"
  DB_PORT: "5432"
  DB_NAME: "webshop"
  FLASK_ENV: "staging"
  FLASK_DEBUG: "0"
  FLASK_RUN_HOST: "0.0.0.0"   # ← add this
---
apiVersion: v1
kind: Secret
metadata:
  name: webshop-secret
  namespace: staging
type: Opaque
stringData:
  DB_USER: "postgres"
  DB_PASSWORD: "staging-postgres-password"
  SECRET_KEY: "staging-secret-key-abc123"
---
# =====================
# PRODUCTION
# =====================
apiVersion: v1
kind: ConfigMap
metadata:
  name: webshop-config
  namespace: production
data:
  DB_HOST: "postgres-service"
  DB_PORT: "5432"
  DB_NAME: "webshop"
  FLASK_ENV: "production"
  FLASK_DEBUG: "0"
  FLASK_RUN_HOST: "0.0.0.0"   # ← add this
---
apiVersion: v1
kind: Secret
metadata:
  name: webshop-secret
  namespace: production
type: Opaque
stringData:
  DB_USER: "postgres"
  DB_PASSWORD: "prod-postgres-strong-password"
  SECRET_KEY: "prod-secret-key-very-strong-xyz"